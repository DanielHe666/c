<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="title">每周挑战 · Weekly Challenge</title>
  <meta name="theme-color" content="#0b0c0d" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root{ --bg:#0b0c0d; --panel:#0f1113; --muted:#9aa4ad; --text:#e6eef6; --accent:#48a0ff; --radius:12px; }
    body{margin:0;background:var(--bg);color:var(--muted);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial}
    .wrap{max-width:1040px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;gap:10px;justify-content:space-between}
    header h1{color:#fff;font-size:22px;margin:0;display:flex;align-items:center;gap:8px}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;margin-top:16px}
    .card{background:var(--panel);border:1px solid rgba(255,255,255,0.08);border-radius:var(--radius);padding:16px}
    .card h3{margin:0 0 8px;color:#fff}
    .card p{margin:0 0 10px;line-height:1.7}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    a.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;text-decoration:none;border:1px solid rgba(255,255,255,0.08);color:var(--text)}
    a.btn.primary{background:var(--accent);color:#071022;border:0}
    .footer{margin-top:22px;display:flex;justify-content:space-between;align-items:center}
    .light body{--bg:#f3f6fb;--panel:#fff;--muted:#4b5563;--text:#0b1220;--accent:#2563eb}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1 id="h1"><i class="fas fa-flag-checkered"></i> 每周挑战 Weekly Challenge</h1>
      <div class="row">
        <a class="btn" href="../index.html"><i class="fas fa-code"></i> 编辑器 Editor</a>
        <a class="btn" href="./rank/index.html"><i class="fas fa-ranking-star"></i> 总榜 Total</a>
        <button id="langBtn" class="btn"><i class="fas fa-globe"></i> EN</button>
      </div>
    </header>

    <div class="card">
      <h3 id="introTitle">活动说明</h3>
      <p id="introDesc">每周发布一道 C 语言挑战题，提交你的最短代码解答。排行榜按“代码字节数”升序排序；若相同，则按提交时间先后排序（先提交者在前）。</p>
      <div class="row">
        <a class="btn primary" href="./1.html"><i class="fas fa-calendar-week"></i> 第 1 期 Week 1</a>
        <a class="btn" href="./rank/1.html"><i class="fas fa-trophy"></i> 第 1 期排行榜</a>
      </div>
    </div>

    <div class="grid" id="weeks">
      <div class="card">
        <h3>Week 1</h3>
        <p id="w1">打印指定图案（示例题）。</p>
        <div class="row">
          <a class="btn" href="./1.html"><i class="fas fa-book-open"></i> 题目 Problem</a>
          <a class="btn" href="./rank/1.html"><i class="fas fa-medal"></i> 排名 Rank</a>
        </div>
      </div>
    </div>

    <div class="footer">
      <div>By C. He from ZJU · Online C Compiler</div>
      <a class="btn" href="../about.html"><i class="fas fa-circle-info"></i> 关于 About</a>
    </div>
  </div>
  <script>
    const i18n={
      zh:{ title:'每周挑战 · Weekly Challenge', header:'每周挑战 Weekly Challenge', editor:'编辑器 Editor', total:'总榜 Total',
        introTitle:'活动说明', introDesc:'每周发布一道 C 语言挑战题，提交你的最短代码解答。排行榜按“代码字节数”升序排序；若相同，则按提交时间先后排序（先提交者在前）。',
        week1:'打印指定图案（示例题）。', problem:'题目 Problem', rank:'排名 Rank', w1btn:'第 1 期 Week 1', w1rank:'第 1 期排行榜'
      },
      en:{ title:'Weekly Challenge · 每周挑战', header:'Weekly Challenge 每周挑战', editor:'Editor 编辑器', total:'Total 总榜',
        introTitle:'Rules', introDesc:'One C challenge per week. Submit your shortest code. Leaderboard sorts by code byte length (ascending). Ties are broken by earliest submission time.',
        week1:'Print the specified pattern (sample).', problem:'Problem 题目', rank:'Rank 排名', w1btn:'Week 1 第 1 期', w1rank:'Week 1 Rank'
      }
    };
    function getLang(){ try{return localStorage.getItem('ui_lang')||'zh';}catch(e){return 'zh';} }
    function setLang(l){ try{localStorage.setItem('ui_lang',l);}catch(e){} applyLang(); }
    function t(k){ const L=getLang(); return (i18n[L]&&i18n[L][k])||i18n.zh[k]||k; }
    function applyLang(){
      document.getElementById('title').textContent=t('title');
      document.getElementById('h1').innerHTML='<i class="fas fa-flag-checkered"></i> '+t('header');
      const rows=document.querySelectorAll('a.btn');
      rows[0].innerHTML='<i class="fas fa-code"></i> '+t('editor');
      rows[1].innerHTML='<i class="fas fa-ranking-star"></i> '+t('total');
      document.getElementById('introTitle').textContent=t('introTitle');
      document.getElementById('introDesc').textContent=t('introDesc');
      document.querySelector('a.btn.primary').innerHTML='<i class="fas fa-calendar-week"></i> '+t('w1btn');
      document.querySelectorAll('.row a.btn')[3].innerHTML='<i class="fas fa-trophy"></i> '+t('w1rank');
      document.getElementById('w1').textContent=t('week1');
      const cards=document.querySelectorAll('#weeks .card');
      cards[0].querySelectorAll('.row a.btn')[0].innerHTML='<i class="fas fa-book-open"></i> '+t('problem');
      cards[0].querySelectorAll('.row a.btn')[1].innerHTML='<i class="fas fa-medal"></i> '+t('rank');
      const langBtn=document.getElementById('langBtn'); langBtn.innerHTML='<i class="fas fa-globe"></i> '+(getLang()==='zh'?'EN':'中');
    }
    document.getElementById('langBtn').addEventListener('click',()=>setLang(getLang()==='zh'?'en':'zh'));
    applyLang();
  </script>
</body>
</html>
